---
title: 烽火HG2201U改桥接
tags:
  - Debian
id: '8589'
categories:
  - - GNU/Linux
date: 2019-07-24 19:02:00
---


<!-- more -->
拿到配置文件就可以破译管理员密码了，只是base64编码了一下下，秒解码。
有两种方法可以拿到配置文件

**telnet方法**

用光猫后面提供的user密码登录，然后访问http://192.168.1.1/servmngr.html，界面几乎是全白的，选择一下就可以看到大部分内容了，启用telnet并设置为在LAN网络监听，默认账号密码是admin/admin，可以修改，然后
```js
$ telnet 192.168.1.1
> help
> dumpcfg
```
找到
```js
<Web>
 <UserPassword>NXB1c2RmbTQA</UserPassword>
 <AdminPassword>Y3VhZG1pbxxxxxxNTgwAA==</AdminPassword>
</Web>
```
这一段，UserPassword就是光猫后面印刷的user账户的密码，AdminPassword就是管理员的密码了，都是base64编码的，随便找个在线服务解码一下好了。

telnet模式还可以执行sh获的shell，可以慢慢研究一下，跑的就是个linux系统
```js
> sh
BusyBox v1.17.2 (2018-09-04 20:22:42 CST) built-in shell (ash)
Enter 'help' for a list of built-in commands.

# uname -a
Linux (none) 3.4.11-rt19 #1 SMP PREEMPT Tue Sep 4 18:24:42 CST 2018 mips GNU/Linux
```
获得是特权shell，切记不要乱删东西。

**工程账号方法**

访问http://192.168.1.1/logoffaccount.html，隐藏账户选择“启用”，"保存/应用"之后，跳转到http://192.168.1.1/logoffaccount.cmd?enableFactoryAccount=1，在此界面下输入工厂账号的密码“hg2x0”进入工厂模式

然后访问http://192.168.1.1/backupsettings.html页面,点击“保存/应用”下载当前配置文件到本地电脑，后面就和第一个方法一样了。

**桥接模式**

访问http://192.168.1.1/cu.html页面，使用管理员账户登录光猫，"基本配置"->"宽带配置"界面选择“*_INTERNET_R_VID_*”这个连接名称，改为桥接就好了，比修改配置文件上传的方式简单不易出错。

据说user用户登录后，直接访问http://192.168.1.1/fbctwanconfig.html也可以修改桥接模式，能看到配置界面，没有尝试。

References:
\[1\][上海联通光猫烽火HG2201U改桥接，路由拨号上网并做解析](https://flyfish.im/liferecords/1698.html)
\[2\][烽火HG2201U 5.0/5.01 版本 光猫改桥接 设置IPV6 超级管理员获取](https://blog.acesheep.com/index.php/archives/608/)